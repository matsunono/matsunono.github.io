<html>
  <head>
    <meta charset='utf-8'>
    <title>松ノさんメモ</title>
  </head>
  <body>
      <header>
          <h1>
              <a>松ノさんメモ</a>
          </h1>
          <nav>
            <ul>
              <li>
                  <a href="index.html" target="_blank">ホーム</a>
              </li>
              <li>
                  <a href="menu.html" target="_blank">メニュー</a>
              </li>
              <li>
                  <a href="profile.html" target="_blank">自己紹介</a>
              </li>
          </ul>
        </nav>
      </header>

      <script src="https://cdn.rawgit.com/google/code-prettify/master/loader/run_prettify.js"></script>
      <h2>Jetson Nanoのセットアップメモ</h2>
      <h2>2.セットアップ</h2>
      <p>
        参考：<a href="https://qiita.com/karaage0703/items/b14c249aa33112669ee4" target="_blank">Jetson Nano関係のTIPSまとめ</a>
      </p>

      <h2>2-1.TensorFlowのセットアップ</h2>
      <p>
        参考：<br>
        <a href="https://qiita.com/n-yamanaka/items/dd82996312ab333fe9b2" target="_blank">Jetson Nanoインストールメモ</a><br>
        <a href="https://karaage.hatenadiary.jp/entry/2019/04/29/073000" target="_blank">Jetson Nanoをセットアップしてディープラーニングで画像認識を試してみた</a>
      </p>
      <p>
        (反省点)最初に<a href="https://github.com/JetsonHacksNano/installSwapfile" target="_blank">installSwapfile</a>を使用して
        SWAP領域を追加しておけばもう少し早く終わった<br>
        <a href="https://karaage.hatenadiary.jp/entry/2019/04/29/073000" target="_blank">
          Jetson Nanoをセットアップしてディープラーニングで画像認識を試してみた</a>
          を見ながら、以下のコマンドを実行<br>
          <pre><code>
            $ git clone https://github.com/karaage0703/jetson-nano-tools
            $ cd jetson-nano-tools
            $ ./install-tensorflow.sh
            $ ./install-tools.sh
          </code></pre>
        うーん、スクリプトファイル(コマンドを書いてくれているファイル、打ち込む面倒が省ける)
        を入れて、実行してるってことかね？理解理解
      </p>

      <h2>2-2.OSのアップデート</h2>
      <p>
          以下のコマンドを実行<br>
          <pre><code>
            $ sudo apt-get update
            $ sudo apt-get upgrade
          </code></pre>>
          先にOSのアップデートするべきだった
      </p>

      <h2>2-3.OpenCVのセットアップ</h2>
      <p>
        参考：<a href="https://qiita.com/asahi0301/items/3c287190348552f19415">Jetson NanoへOpenCV 4.1.0をインストールする</a>
      </p>
      <p>
        参考ページ内のリンク
        <a href="https://github.com/AastaNV/JEP/blob/master/script/install_opencv4.0.0_Nano.sh">(こちら)</a>
        が死んでいたので、参考ページに載っていたスクリプトファイルを、
        OpenCV 4.3.0をインストールするように変更した<br>
        <script src="https://gist.github.com/matsunono/d515b94cf5d86042f383e7bdf2ece2be.js"></script>
        以下のコマンドを実行する(スクリプトの実行)
        <pre><code>
          $ mkdir opencv
          $ ./install_opencv4.3.0_Nano.sh opencv
        </code></pre>
      </p>

      <h2>2-4.画像認識のソフトを動かして遊ぶ(遊べない)</h2>
      <p>
        <a href="https://karaage.hatenadiary.jp/entry/2019/04/29/073000" target="_blank">
          Jetson Nanoをセットアップしてディープラーニングで画像認識を試してみた</a>
          を見ながら、以下のコマンドを実行("Keras"を"Karas"だと勘違いして、最初そんなフォルダ無いよって言われた)
          <pre><code>
            $ git clone https://github.com/karaage0703/keras-pi
            $ cd keras-pi
          </code></pre>
          あ、ラズパイのカメラじゃないから、USBカメラですよーって書き直さなきゃかな？と思い、
          VSCodeで開こうと、(この時すでにTeraTermを使ってリモートで動かしていたのだ！)
          <pre><code>
            $ code inspect_camera_pi.py
          </code></pre>
          とコマンドを打ったけど、"code"なんてコマンドは無いですわよと言われてしまった<br>
          よく考えたら当たり前だった、JetsonNanoにVSCode入れてないですもん
      </p>

      <h2>2-5.リモートでJetsonNanoの中のファイルを触れるようにする</h2>
      <p>
        <a href="https://qiita.com/msrks/items/1385cf13258dd1a0da08" target="_blank">
          Ubuntuでファイルサーバーをたてる（Samba）</a>
          を見ながら、以下のコマンドを実行
          <pre><code>
            # インストール
            $ sudo apt-get -y install samba

            # 共有するディレクトリの作成
            $ sudo mkdir /home/shere
            $ sudo chmod 777 /home/shere

            # ファイルサーバーの設定
            $ sudo vim /etc/samba/smb.conf
          </code></pre>
          ここでファイルサーバーの再起動の為に、以下のコマンドを実行した
          <pre><code>
            $ sudo systemctl restart smbd
          </code></pre>
          すると、以下のエラー文が返ってきた
          <pre><code>
            Job for smbd.service failed because the control process exited with error code.
            See "systemctl status smbd.service" and "journalctl -xe" for details.
          </code></pre>
          よく見直してみると"share"が"shere"になっていた<br>
          まあ、エラーと関係ない気もするけど、スペルミスは直しておこうと
          <pre><code>
            $ sudo rmdir /home/shere
            $ sudo mkdir /home/share
            $ sudo chmod 777 /home/share

            # confファイルの中も間違えているので直す
            $ sudo vim /etc/samba/smb.conf
          </code></pre>
          しかし、同じエラーが出る為、
          <pre><code>
            # 最終行に追記
            [Share] # 任意の共有名称を指定
            path = /home/share # 共有フォルダ指定
            writable = yes # 書き込みOK
            guest ok = yes # ゲストユーザーOK
            guest only = yes # 全てゲストとして扱う
            create mode = 0777 # フルアクセスでファイル作成
            directory mode = 0777 # フルアクセスでフォルダ作成
          </code></pre>
          上記のように、参考ページの通りにsmb.confを書いていたのを
          <pre><code>
            # 最終行に追記
            [Share]
            path = /home/share
            writable = yes
            guest ok = yes
            guest only = yes
            create mode = 0777
            directory mode = 0777
          </code></pre>
          上記のように、コメントを削除してみたところ、
          <pre><code>
            $ sudo systemctl restart smbd
          </code></pre>
          が実行できた！<br>
          だがしかし、JetsonNanoのshareフォルダにアクセス出来ないし、nmbdが再起動できない…
      </p>
  </body>
</html>